{% extends "accounts/student/base.html" %}
{% load static %}
{% block content %}

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<style>
:root{
 --primary:#6366f1;
 --secondary:#4f46e5;
 --bg:#f8fafc;
}

.preview-container{
 padding:30px;
 background:var(--bg);
 min-height:100vh;
 font-family:Inter,sans-serif;
}

.preview-header{
 background:linear-gradient(135deg,var(--primary),var(--secondary));
 color:white;
 padding:30px;
 border-radius:20px;
 margin-bottom:25px;
 display:flex;
 justify-content:space-between;
 align-items:center;
}

.preview-card{
 background:white;
 padding:25px;
 border-radius:20px;
 box-shadow:0 10px 25px rgba(0,0,0,.08);
}

.back-btn{
 background:white;
 color:var(--primary);
 padding:10px 18px;
 border-radius:10px;
 text-decoration:none;
 font-weight:700;
}

.back-btn:hover{background:#eef2ff;}

.material-title{
 font-weight:800;
 margin-bottom:15px;
}

.preview-box{
 border:1px solid #e5e7eb;
 border-radius:15px;
 padding:15px;
}

.download-btn{
 margin-top:15px;
 display:inline-block;
 background:var(--primary);
 color:white;
 padding:10px 20px;
 border-radius:10px;
 text-decoration:none;
 font-weight:700;
}

.download-btn:hover{opacity:.9;}

</style>

<div class="preview-container">

<div class="preview-header">
<div>
<h3>{{ material.title }}</h3>
<p>{{ material.course.title }}</p>
</div>

<a href="{% url 'student_material_list' material.course.id %}" class="back-btn">
<i class="fa-solid fa-arrow-left"></i> Back
</a>
</div>

<div class="preview-card">

<h4 class="material-title">{{ material.title }}</h4>

<div class="preview-box">

{% if material.material_type == "video" %}

<video controls width="100%" style="border-radius:10px">
 <source src="{{ material.file.url }}">
</video>

{% elif material.material_type == "pdf" %}

<iframe src="{{ material.file.url }}" width="100%" height="600" style="border-radius:10px"></iframe>

{% else %}

<img src="{{ material.file.url }}" width="100%" style="border-radius:10px">

{% endif %}

</div>

<a href="{{ material.file.url }}" download class="download-btn">
<i class="fa-solid fa-download"></i> Download
</a>

</div>

</div>

{% endblock %}
