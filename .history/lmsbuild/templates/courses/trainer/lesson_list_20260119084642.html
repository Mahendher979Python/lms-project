{% extends 'accounts/trainer/base.html' %}
{% block title %}Curriculum: {{ course.title }}{% endblock %}

{% block content %}
    <div class="breadcrumbs">
        <a href="{% url 'trainer_course_list' %}">Courses</a> / <span>{{ course.title }}</span>
    </div>

    <div class="lms-card" style="background: linear-gradient(to right, #4f46e5, #818cf8); color: white;">
        <h2 style="margin: 0;">üìò {{ course.title }}</h2>
        <p style="margin: 5px 0 0 0; opacity: 0.9;">Manage lessons and videos</p>
    </div>

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3>Course Content</h3>
        <a href="{% url 'trainer_lesson_add' course.id %}" class="btn btn-primary">‚ûï Add Lesson</a>
    </div>

    <div class="lms-card">
        <table class="lms-table">
            <thead>
                <tr>
                    <th width="10%">Seq</th>
                    <th width="40%">Lesson Title</th>
                    <th width="20%">Content</th>
                    <th width="30%">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for lesson in lessons %}
                <tr>
                    <td>
                        <span style="background:#e0e7ff; color: #4338ca; padding: 4px 10px; border-radius: 50%; font-weight: bold;">
                            {{ lesson.order }}
                        </span>
                    </td>
                    <td>{{ lesson.title }}</td>
                    <td>
                        {% if lesson.video %}
                            <a href="{{ lesson.video.url }}" target="_blank" style="color: #ef4444; text-decoration: none;">
                                ‚ñ∂ Watch Video
                            </a>
                        {% else %}
                            <span style="color: #64748b;">No Video</span>
                        {% endif %}
                    </td>
                    <td>
                        <div style="display: flex; gap: 8px;">
                            <a href="{% url 'trainer_lesson_edit' course.id lesson.id %}" class="btn btn-secondary btn-sm">‚úèÔ∏è Edit</a>
                            <a href="{% url 'trainer_lesson_delete' course.id lesson.id %}" 
                               onclick="return confirm('Delete this lesson?');" 
                               class="btn btn-sm btn-danger">üóë</a>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" style="text-align: center; padding: 30px;">No lessons yet.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="{% url 'trainer_course_list' %}" class="btn btn-secondary">‚¨Ö Back to Courses</a>
{% endblock %}