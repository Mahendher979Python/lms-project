{% extends 'accounts\trainer\base.html' %}
{% block title %}Lessons: {{ course.title }}{% endblock %}

{% block content %}
    <h2>ğŸ“˜ Lessons â€“ {{ course.title }}</h2>

    <a href="{% url 'trainer_lesson_add' course.id %}" class="btn">
        â• Add Lesson
    </a>

    <table>
        <tr>
            <th>Order</th>
            <th>Title</th>
            <th>Video</th>
            <th>Actions</th>
        </tr>

        {% for lesson in lessons %}
        <tr>
            <td>{{ lesson.order }}</td>
            <td>{{ lesson.title }}</td>
            <td>
                {% if lesson.video %}
                    <a href="{{ lesson.video.url }}" target="_blank">â–¶ Watch</a>
                {% else %}
                    -
                {% endif %}
            </td>
            <td>
                <a href="{% url 'trainer_lesson_edit' course.id lesson.id %}">âœï¸ Edit</a> | 
                <a href="{% url 'trainer_lesson_delete' course.id lesson.id %}" 
                   onclick="return confirm('Delete this lesson?');" style="color:red;">
                   ğŸ—‘ Delete
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No lessons added yet</td>
        </tr>
        {% endfor %}
    </table>

    <br>
    <a href="{% url 'trainer_course_list' %}">â¬… Back to Courses</a>
{% endblock %}