{% extends 'accounts/trainer/base.html' %}
{% block content %}
<style>
    :root { --cyan: #00f3ff; --lime: #ccff00; --glass: rgba(255,255,255,.07); --border: rgba(255,255,255,.15); }
    .form-card { max-width: 500px; margin: 50px auto; background: var(--glass); border: 1px solid var(--border); border-radius: 24px; padding: 40px; backdrop-filter: blur(20px); }
    .header-text { text-align: center; margin-bottom: 30px; }
    .header-text h2 { background: linear-gradient(90deg, var(--cyan), var(--lime)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .form-group { margin-bottom: 20px; }
    label { display: block; color: #94a3b8; margin-bottom: 8px; font-size: 0.9rem; }
    input[type="text"], input[type="file"] { width: 100%; padding: 12px; background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 10px; color: white; box-sizing: border-box; }
    .btn-submit { width: 100%; background: linear-gradient(135deg, var(--lime), #9acd00); border: none; padding: 15px; border-radius: 12px; font-weight: 700; cursor: pointer; margin-top: 10px; transition: .3s; }
    .btn-submit:hover { transform: scale(1.02); }
    .btn-cancel { display: block; text-align: center; margin-top: 15px; color: #94a3b8; text-decoration: none; font-size: 0.9rem; }
</style>

<div class="form-card">
    <div class="header-text">
        <h2>Upload Material</h2>
        <p style="color: #94a3b8;">Adding to: {{ course.title }}</p>
    </div>
    
    <form method="post" enctype="multipart/form-data" id="uploadForm">
        {% csrf_token %}
        <div class="form-group">
            <label>Material Title</label>
            <input type="text" name="title" placeholder="e.g. Week 1 Slides" required>
        </div>
        <div class="form-group">
            <label>Select File</label>
            <input type="file" name="file" required>
        </div>
        <button type="submit" class="btn-submit" id="submitBtn">Start Upload</button>
        <a href="{% url 'trainer_material_list' course.id %}" class="btn-cancel">Cancel</a>
    </form>
</div>

<script>
    const form = document.getElementById('uploadForm');
    const btn = document.getElementById('submitBtn');
    form.onsubmit = () => {
        btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Uploading...';
        btn.style.pointerEvents = "none";
        btn.style.opacity = "0.7";
    };
</script>
{% endblock %}