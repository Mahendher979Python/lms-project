{% extends "accounts/admin/base.html" %}
{% block content %}

<h2>All Materials</h2>

{% for m in materials %}

<div style="background:#fff;padding:15px;margin-bottom:15px;border-radius:10px">

<b>{{m.title}}</b><br>
<small>Course: {{m.course.title}}</small><br><br>

{% if m.file.url|lower|slice:"-4:" == ".pdf" %}
<a href="{{m.file.url}}" target="_blank">View PDF</a>

{% elif m.file.url|lower|slice:"-4:" == ".jpg" or m.file.url|lower|slice:"-4:" == ".png" %}
<img src="{{m.file.url}}" width="120">

{% elif m.file.url|lower|slice:"-4:" == ".mp4" %}
<video width="250" controls>
<source src="{{m.file.url}}">
</video>

{% else %}
<a href="{{m.file.url}}" download>Download File</a>
{% endif %}

<br><br>

<a href="{% url 'admin_material_edit' m.id %}">Edit</a> |
<a href="{% url 'admin_material_delete' m.id %}"
onclick="return confirm('Delete?')">Delete</a>

</div>

{% empty %}
<p>No materials found.</p>
{% endfor %}

{% endblock %}
