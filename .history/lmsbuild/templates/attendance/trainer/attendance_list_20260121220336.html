{% extends "accounts/trainer/base.html" %}
{% block content %}

<style>
.page-wrap { max-width: 1200px; margin: 40px auto; }
h2 { font-size: 1.6rem; margin-bottom: 20px; }
table { width: 100%; border-collapse: collapse; margin-bottom: 40px; }
th, td { padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; }
th { background: #f1f5f9; }
.map-link { color: #2563eb; font-weight: 600; text-decoration: none; }
</style>

<div class="page-wrap">

  <!-- TRAINER OWN ATTENDANCE -->
  <h2>ğŸ“… My Attendance</h2>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Login</th>
        <th>Logout</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for att in my_attendance %}
      <tr>
        <td>{{ att.date }}</td>
        <td>{{ att.login_time|default:"-" }}</td>
        <td>{{ att.logout_time|default:"-" }}</td>
        <td>{{ att.get_status_display }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4">No records</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- STUDENTS ATTENDANCE -->
  <h2>ğŸ‘¨â€ğŸ“ Students Attendance</h2>
  <table>
    <thead>
      <tr>
        <th>Student</th>
        <th>Date</th>
        <th>Login</th>
        <th>Logout</th>
        <th>Status</th>
        <th>Location</th>
      </tr>
    </thead>
    <tbody>
      {% for att in students_attendance %}
      <tr>
        <td>{{ att.user.username }}</td>
        <td>{{ att.date }}</td>
        <td>{{ att.login_time|default:"-" }}</td>
        <td>{{ att.logout_time|default:"-" }}</td>
        <td>{{ att.get_status_display }}</td>
        <td>
          {% if att.latitude %}
          <a class="map-link"
             href="https://www.google.com/maps?q={{ att.latitude }},{{ att.longitude }}"
             target="_blank">
            ğŸ“ Map
          </a>
          {% else %}-{% endif %}
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="6">No student records</td></tr>
      {% endfor %}
    </tbody>
  </table>

</div>

{% endblock %}
