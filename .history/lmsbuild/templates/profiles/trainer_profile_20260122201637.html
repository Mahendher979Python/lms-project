{% extends "accounts/trainer/base.html" %}
{% load static %}

{% block title %}My Profile | Trainer{% endblock %}

{% block content %}

<div style="max-width: 900px; margin: 0 auto;">

    <div class="card-3d" style="position: relative; text-align: center; padding-top: 40px;">
        
        <a href="{% url 'profile_edit' %}" class="btn-3d" 
           style="position: absolute; top: 20px; right: 20px; font-size: 0.85rem; padding: 8px 16px;">
            <i class="fas fa-pencil-alt"></i> Edit Profile
        </a>

        <div style="margin-bottom: 20px;">
            {% if request.user.profile_pic %}
                <img src="{{ request.user.profile_pic.url }}" 
                     class="avatar" 
                     style="width: 130px; height: 130px; border: 4px solid var(--bg-color);">
            {% else %}
                <img src="https://ui-avatars.com/api/?name={{ request.user.username }}&background=2563eb&color=fff&size=128" 
                     class="avatar" 
                     style="width: 130px; height: 130px; border: 4px solid var(--bg-color);">
            {% endif %}
        </div>

        <h2 style="margin: 0; color: var(--brand-color); letter-spacing: 0.5px;">
            {{ request.user.first_name }} {{ request.user.last_name }}
        </h2>
        <p style="color: var(--text-light); margin: 5px 0 20px;">@{{ request.user.username }}</p>
        
        <span class="badge" 
              style="background:#ecfdf5; color:#10b981; padding: 6px 18px; border-radius: 20px; font-weight: bold; box-shadow: var(--shadow-in);">
            Verified Trainer
        </span>

        <div style="margin-bottom: 20px;"></div>
    </div>


    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px;">
        
        <div class="card-3d">
            <h3 style="color: var(--text-main); border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 15px; margin-bottom: 25px;">
                <i class="fas fa-briefcase" style="color: var(--brand-color); margin-right: 10px;"></i> Professional Info
            </h3>
            
            <div class="info-row">
                <span class="label">Qualification</span>
                <span class="value">{{ profile.qualification|default:"Not Updated" }}</span>
            </div>
            
            <div class="info-row">
                <span class="label">Experience</span>
                <span class="value">{{ profile.experience_years }} Years</span>
            </div>

            <div style="margin-top: 25px;">
                <label class="label" style="display:block; margin-bottom: 10px;">Core Expertise</label>
                <div style="
                    background: var(--bg-color);
                    box-shadow: var(--shadow-in);
                    padding: 15px;
                    border-radius: 10px;
                    color: var(--text-main);
                    min-height: 60px;
                ">
                    {{ profile.expertise|default:"No expertise listed yet." }}
                </div>
            </div>
        </div>

        <div class="card-3d">
            <h3 style="color: var(--text-main); border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 15px; margin-bottom: 25px;">
                <i class="fas fa-id-card" style="color: var(--brand-color); margin-right: 10px;"></i> Contact & Certs
            </h3>

            <div class="info-row">
                <span class="label">Email ID</span>
                <span class="value">{{ request.user.email }}</span>
            </div>

            <div class="info-row">
                <span class="label">Mobile</span>
                <span class="value">{{ request.user.mobile|default:"Not Provided" }}</span>
            </div>

            <div style="margin-top: 25px;">
                <label class="label" style="display:block; margin-bottom: 10px;">Certifications</label>
                <div style="
                    background: var(--bg-color);
                    box-shadow: var(--shadow-in);
                    padding: 15px;
                    border-radius: 10px;
                    color: var(--text-main);
                    font-style: italic;
                    min-height: 60px;
                ">
                    {% if profile.certifications %}
                        {{ profile.certifications|linebreaks }}
                    {% else %}
                        No certifications added.
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

</div>

<style>
    .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid rgba(255,255,255, 0.6);
    }
    .info-row:last-of-type {
        border-bottom: none;
    }
    .label {
        font-weight: 600;
        color: var(--text-light);
    }
    .value {
        font-weight: 600;
        color: var(--text-main);
    }
</style>

{% endblock %}