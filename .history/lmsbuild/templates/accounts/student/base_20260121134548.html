{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student | Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
:root {
    --bg-dark:#0f172a;
    --bg-panel:#1e293b;
    --bg-light:#f1f5f9;
    --text-main:#f8fafc;
    --text-muted:#94a3b8;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
body{background:var(--bg-light);height:100vh;display:flex;flex-direction:column;overflow:hidden}

/* ---------- TOPBAR ---------- */
.topbar{
    height:60px;
    background:var(--bg-panel);
    color:var(--text-main);
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:0 20px;
}

.brand{display:flex;align-items:center;gap:15px}

.logout-btn{
    width:38px;height:38px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;
    background:#111827;color:#ef4444;
    position:relative;
    overflow:hidden;
}
.logout-btn::before{
    content:"";
    position:absolute;
    top:0;left:-100%;
    width:100%;height:3px;
    background:linear-gradient(90deg,#f43f5e,#facc15,#22c55e);
    animation:lineMove 2s linear infinite;
}
@keyframes lineMove{
    from{left:-100%}to{left:100%}
}

/* ---------- LAYOUT ---------- */
.layout{display:flex;flex:1}

/* ---------- SIDEBAR ---------- */
.sidebar{
    width:250px;background:var(--bg-dark);
    padding:20px 15px;color:white;
    display:flex;flex-direction:column;
}

.menu{flex:1;display:flex;flex-direction:column;gap:6px}

.menu a{
    padding:12px 15px;
    text-decoration:none;
    color:#cbd5f5;
    border-radius:8px;
    transition:.25s;
}

/* RANDOM HOVER */
.menu a:hover{
    color:#fff;
    transform:translateX(8px);
}

/* CLICK EFFECT */
.menu a.active{
    color:#fff;
    box-shadow:0 0 15px rgba(0,0,0,.4);
}

/* ---------- CONTENT ---------- */
.content{flex:1;padding:30px;overflow-y:auto}

/* ---------- WELCOME ---------- */
.welcome-box{
    padding:30px;
    border-radius:18px;
    color:white;
    margin-bottom:30px;
    overflow:hidden;
    position:relative;
}

.welcome-marquee{
    display:inline-block;
    white-space:nowrap;
    animation:marquee 10s linear infinite;
    font-size:26px;
    font-weight:700;
}

@keyframes marquee{
    from{transform:translateX(100%)}
    to{transform:translateX(-100%)}
}

/* ---------- MOBILE ---------- */
@media(max-width:768px){
    .sidebar{display:none}
}
</style>
</head>

<body>

<div class="topbar">
    <div class="brand">
        <h2><i class="fa-solid fa-graduation-cap"></i> Student Dashboard</h2>
    </div>
    <div>
        Hello <b>{{ request.user.username }}</b>
        <a href="{% url 'logout' %}" class="logout-btn"><i class="fa-solid fa-power-off"></i></a>
    </div>
</div>

<div class="layout">

<div class="sidebar">
    <div class="menu">
        <a href="{% url 'student_dashboard' %}" class="active">Dashboard</a>
        <a href="{% url 'student_course_list' %}">My Courses</a>
        <a href="{% url 'student_todo_list' %}">My Todos</a>
        <a href="#">Assignments</a>
        <a href="#">Progress</a>
    </div>
</div>

<div class="content">

    <!-- WELCOME -->
    <div class="welcome-box" id="welcomeBox">
        <div class="welcome-marquee" id="welcomeText">
            ðŸ‘‹ Welcome {{ request.user.username }} â€“ Keep Learning & Growing ðŸš€
        </div>
    </div>

    {% block content %}{% endblock %}

</div>
</div>

<script>
/* ---------- RANDOM COLORS ---------- */
const colors=[
"#2563eb","#7c3aed","#ec4899",
"#f97316","#22c55e","#06b6d4"
];
const fonts=[
"'Segoe UI'","'Courier New'","'Georgia'","'Trebuchet MS'"
];

document.querySelectorAll(".menu a").forEach(link=>{
    link.addEventListener("mouseenter",()=>{
        link.style.background=colors[Math.floor(Math.random()*colors.length)];
    });
    link.addEventListener("click",()=>{
        link.style.background=colors[Math.floor(Math.random()*colors.length)];
    });
});

/* ---------- RANDOM WELCOME ---------- */
const welcome=document.getElementById("welcomeBox");
const text=document.getElementById("welcomeText");

setInterval(()=>{
    welcome.style.background=`linear-gradient(135deg,${colors[Math.floor(Math.random()*colors.length)]},${colors[Math.floor(Math.random()*colors.length)]})`;
    text.style.color=colors[Math.floor(Math.random()*colors.length)];
    text.style.fontFamily=fonts[Math.floor(Math.random()*fonts.length)];
},4000);
</script>

</body>
</html>
