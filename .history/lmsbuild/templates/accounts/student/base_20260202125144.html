{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{% block title %}Student | LMS Dashboard{% endblock %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
/* ALL YOUR EXISTING CSS â€” UNCHANGED */
{{ block.super }}
</style>

{% block extra_head %}{% endblock %}
</head>

<body>

<aside class="sidebar">

<div class="brand">
<img src="{% static 'images/Speshwaylogo.jpg' %}">
<h2>LMS Student</h2>
</div>

<nav class="nav-menu">

<div class="section-title">Main</div>

<a href="{% url 'student_dashboard' %}"
class="nav-link {% if request.resolver_match.url_name == 'student_dashboard' %}active{% endif %}">
<i class="fa-solid fa-gauge-high"></i> Dashboard
</a>


<div class="section-title">Learning</div>

<a href="{% url 'student_course_list' %}"
class="nav-link {% if request.resolver_match.url_name == 'student_course_list' %}active{% endif %}">
<i class="fa-solid fa-graduation-cap"></i> My Courses
</a>

<a href="{% url 'student_material_redirect' %}"
class="nav-link {% if 'student_material' in request.resolver_match.url_name %}active{% endif %}">
<i class="fa-solid fa-folder-open"></i> Study Materials
</a>

<a href="{% url 'student_notes_list' %}" class="nav-link">
<i class="fa-solid fa-book-open"></i> Notes
</a>

<a href="{% url 'assignments:student_assignment_list' %}" class="nav-link">
<i class="fa-solid fa-pen-to-square"></i> Assignments
</a>

<a href="{% url 'assignments:student_exam_history' %}" class="nav-link">
<i class="fa-solid fa-file-circle-check"></i> Exam History
</a>


<div class="section-title">Communication</div>

<a href="{% url 'student_todo_list' %}" class="nav-link">
<i class="fa-solid fa-message"></i> Messages
</a>


<div class="section-title">My Records</div>

<a href="{% url 'student_attendance' %}" class="nav-link">
<i class="fa-solid fa-calendar-check"></i> Attendance
</a>

<a href="{% url 'student_attendance_report' %}" class="nav-link">
<i class="fa-solid fa-chart-pie"></i> Report
</a>

<hr style="border-color:rgba(255,255,255,0.05); margin:20px 10px;">

<a href="{% url 'profile_view' %}" class="nav-link">
<i class="fa-solid fa-user"></i> My Profile
</a>

<a href="{% url 'profile_edit' %}" class="nav-link">
<i class="fa-solid fa-user-pen"></i> Edit Profile
</a>

</nav>
</aside>


<div class="main-wrapper">

<header class="topbar">

<div class="page-title">
<span id="currentDate"></span>
</div>

<div class="user-actions">
<div class="user-pill">
<i class="fa-solid fa-user-graduate"></i>
{{ request.user.username|title }}
</div>

<button onclick="confirmLogout()" class="logout-btn">
<i class="fa-solid fa-power-off"></i>
</button>
</div>

</header>

<main class="content-area">

{% if messages %}
<div class="alert-container">
{% for message in messages %}
<div class="alert">
<span>{{ message }}</span>
<span class="alert-close" onclick="this.parentElement.style.display='none'">&times;</span>
</div>
{% endfor %}
</div>
{% endif %}

{% block content %}{% endblock %}

</main>
</div>

<script>

document.getElementById('currentDate').innerText =
new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});

function confirmLogout(){
Swal.fire({
title:'Logout?',
text:'You will be logged out.',
icon:'warning',
showCancelButton:true,
confirmButtonColor:'#ef4444'
}).then((r)=>{
if(r.isConfirmed){
window.location.href="{% url 'logout' %}";
}
})
}

setTimeout(()=>{
document.querySelectorAll('.alert').forEach(a=>{
a.style.opacity='0';
setTimeout(()=>a.remove(),500);
})
},4000);

</script>

{% block extra_js %}{% endblock %}

</body>
</html>
