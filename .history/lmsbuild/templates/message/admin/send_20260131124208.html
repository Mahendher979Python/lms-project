{% extends "accounts/admin/base.html" %}
{% block content %}

<style>
.message-container {
    max-width: 450px;
    margin: 60px auto;
    background: #fff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,.1);
}

.message-container h2 {
    text-align: center;
    margin-bottom: 20px;
}

.message-container label {
    margin-top: 12px;
    display: block;
    font-weight: 600;
}

.message-container input,
.message-container select,
.message-container textarea {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ddd;
    border-radius: 6px;
}

.message-container button {
    width: 100%;
    margin-top: 20px;
    padding: 12px;
    background: #0d6efd;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: bold;
}
</style>

<div class="message-container">
<h2>Send Message</h2>

{% if messages %}
{% for m in messages %}
<p style="color:green;text-align:center">{{ m }}</p>
{% endfor %}
{% endif %}

<form method="post">
{% csrf_token %}

<label>Receiver</label>
<select name="rec{% extends "accounts/admin/base.html" %}
{% block content %}

<style>
    .form-box {
        max-width: 500px;
        margin: 40px auto;
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        transform: rotateX(2deg);
    }
    .form-group { margin-bottom: 20px; }
    label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
    input, select, textarea {
        width: 100%; padding: 12px; border: 2px solid #e5e7eb;
        border-radius: 10px; transition: all 0.3s ease;
    }
    input:focus, textarea:focus {
        border-color: #4f46e5; outline: none; box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
    }
    .btn-3d {
        width: 100%; background: #4f46e5; color: white; border: none;
        padding: 15px; border-radius: 10px; font-weight: bold;
        cursor: pointer; transition: 0.2s;
        box-shadow: 0 5px 0 #3730a3;
    }
    .btn-3d:active { transform: translateY(3px); box-shadow: 0 2px 0 #3730a3; }
</style>

<div class="form-box">
    <h2 style="text-align:center; margin-bottom:30px;">Compose Message</h2>
    <form method="post" id="composeForm">
        {% csrf_token %}
        <div class="form-group">
            <label>To User</label>
            <select name="receiver" required>
                {% for user in users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label>Subject</label>
            <input type="text" name="subject" required placeholder="What is this about?">
        </div>
        <div class="form-group">
            <label>Message</label>
            <textarea name="body" rows="5" required placeholder="Type your message..."></textarea>
        </div>
        <button type="submit" class="btn-3d">Send Now ðŸš€</button>
    </form>
</div>

<script>
    document.getElementById('composeForm').onsubmit = function() {
        this.querySelector('button').innerText = 'Sending...';
    };
</script>
{% endblock %}eiver" required>
<option value="">Select User</option>
{% for user in users %}
<option value="{{ user.id }}">{{ user.username }}</option>
{% endfor %}
</select>

<label>Subject</label>
<input type="text" name="subject" required>

<label>Message</label>
<textarea name="body" rows="5" required></textarea>

<button type="submit">Send Message</button>
</form>
</div>

{% endblock %}
