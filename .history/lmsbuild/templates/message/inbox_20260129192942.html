<!DOCTYPE html>
<html>
<head>
<title>Inbox</title>

<style>

body{
    font-family:Arial;
    background:#eef1f5;
}

.container{
    width:80%;
    margin:40px auto;
}

h2{
    text-align:center;
}

table{
    width:100%;
    border-collapse:collapse;
    background:white;
}

th, td{
    padding:12px;
    border-bottom:1px solid #ddd;
}

th{
    background:#0d6efd;
    color:white;
}

tr:hover{
    background:#f1f1f1;
}

.unread{
    font-weight:bold;
}

.empty{
    text-align:center;
    padding:30px;
}

</style>

</head>

<body>

<div class="container">

<h2>Your Inbox</h2>

<table>
<tr>
    <th>From</th>
    <th>Subject</th>
    <th>Message</th>
    <th>Date</th>
</tr>

{% for msg in messages %}
<tr class="{% if not msg.is_read %}unread{% endif %}">
    <td>{{ msg.sender.username }}</td>
    <td>{{ msg.subject }}</td>
    <td>{{ msg.body|truncatechars:50 }}</td>
    <td>{{ msg.created_at }}</td>
</tr>

{% empty %}
<tr>
<td colspan="4" class="empty">No Messages</td>
</tr>
{% endfor %}

</table>

</div>

<script>
console.log("Inbox Loaded");
</script>

</body>
</html>
